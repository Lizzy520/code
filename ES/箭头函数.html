<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>箭头函数</title>
</head>
<body>
    <script type="text/javascript">
        // 声明一个函数
        // 普通函数：
        let fn1 = function(a,b){
            return a+b;
        }
        // 箭头函数
        let fn2 = (a,b) => {
            return a+b;
        }

        // 函数调用 普通函数和箭头函数一样
        let res1 = fn1(1,2);
        let res2 = fn2(1,2);
        console.log(res1,res2);

        // 箭头函数 this 的静态特性
        function getName1(){
            console.log(this.name);
        }

        let getName2 = () => {  //全局作用域下声明，this 指向 window
            console.log(this.name);
        }

        window.name = "小莉齐";
        const school = {
            name: "Lizzy"
        }

        // 直接调用
        getName1(); //小莉齐
        getName2(); //小莉齐 因为该箭头函数是在全局作用域下声明，this 指向 window

        // call 方法调用
        getName1.call(school);    //Lizzy
        getName2.call(school);    //小莉齐，因为this始终指向声明时作用域下的this，即window

        // 箭头函数不能作为构造实例化对象
        let Person1 = function(name,age){
            this.name = name;
            this.age = age;
        }
        let me = new Person1("Lizyy",20);
        console.log(me.name,me.age);

        let Person2 = (name,age) => {
            this.name = name;
            this.age = age;
        }
        // let he = new Person2("HLY",21); //报错
        // console.log(he.name,he.age);

        // 箭头函数不能使用arguments 变量
        function fun1(){
            console.log(arguments);
        }

        // let fun2 = () => {
        //     console.log(arguments); //箭头函数不能使用arguments
        // }

        fun1(1,2);  //正常调用
        // fun2(1,2);  //报错

        // 箭头函数的简写
        let pow1 = (n) => {
            return n*n;
        }

        // 省略小括号，当形参有且只有一个的时候
		let pow2 = n => {
            return n*n;
        }
		
        // 省略花括号，当代码体只有一条语句的时候，此时 return 必须省略，而且语句的执行结果就是函数的返回值
        let pow3 = n => n*n;

        console.log(pow1(2),pow2(2),pow3(2));

    </script>
</body>
</html>