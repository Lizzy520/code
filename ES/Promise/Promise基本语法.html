<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise基本语法</title>
</head>
<body>
    <script>
        // 实例化 Promise 对象，其参数是函数类型，并且该函数有两个参数，resole 和 reject
        // 这个对象有三种状态：初始化 成功 失败，我们可以通过调用resolve，reject函数来改变对象的状态
        // 调完resolve后状态变为成功，然后我们就可以调用 Promise 对象中的 then 方法了
        const p = new Promise(function(resolve,reject){
            // 我们可以在这里拿到一些数据
            let data = "数据库中的用户数据";
            // 将状态设置为成功
            // resolve(data);

            // 将状态设置为失败
            let err = "数据读取失败";
            reject(err);
        })
        // 调用 promise 对象的 then 方法
        // 有两个参数，类型都是函数
        // 第一个为成功函数，有一个成功参数 value，调用的是resolve时调用成功函数
        // 第二个为失败函数，有一个失败参数 reason，调用的是reject时调用失败函数
        p.then(function(value){
            console.log(value);
        },function(reason){
            console.error(reason);
        })
    </script>
</body>
</html>