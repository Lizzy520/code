<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>await 表达式</title>
</head>
<body>
    <script>
        // 创建promise对象
        const p = new Promise((resolve,reject) => {
            // await 的promise对象成功，则返回的就是成功的值
            // resolve("用户数据");

            // await 的promise对象失败，则需要用try...catch来捕获reject中的值
            reject("失败啦！");
        })

        // await 必须写在 async 函数中
        async function main(){
            // await 的 promise 失败，try..catch捕获
            try{
                // await 右侧的表达式一般为 promise 对象
                let res = await p;
                // await 返回的结果就是 promise 成功的值
                console.log(res);
            }catch(e){
                console.log(e);
            }
        }
        main();
    </script>
</body>
</html>